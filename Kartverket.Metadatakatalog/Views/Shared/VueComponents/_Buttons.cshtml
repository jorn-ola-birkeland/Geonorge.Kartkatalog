@Html.Partial("VueComponents/Buttons/_CopyUrlButton")
@Html.Partial("VueComponents/Buttons/_ShowInMapButton")
@Html.Partial("VueComponents/Buttons/_ShowCoverageButton")
@Html.Partial("VueComponents/Buttons/_AddToCartButton")
@Html.Partial("VueComponents/Buttons/_HelpButton")
@Html.Partial("VueComponents/Buttons/_ContactOwnerButton")
@Html.Partial("VueComponents/Buttons/_ShowProductSheetButton")
@Html.Partial("VueComponents/Buttons/_ShowProductSpecificationButton")
@Html.Partial("VueComponents/Buttons/_ShowLegendDescriptionButton")
@Html.Partial("VueComponents/Buttons/_ShowWebsiteButton")
@Html.Partial("VueComponents/Buttons/_ShowProductPageButton")

<script type="text/x-template" id="buttonsTemplate">
    <div>
        <div v-if="hasComponentContainer">
            <div v-bind:class="componentContainerClassName">
                <div v-if="isSelected('copyUrlButton')" is="copy-url-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('showInMapButton')" is="show-in-map-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('addToCartButton')" is="add-to-cart-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('showCoverageButton')" is="show-coverage-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('helpButton')" is="help-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass"  v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('contactOwnerButton')" is="contact-owner-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('showProductSheetButton')" is="show-product-sheet-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('showProductSpecificationButton')" is="show-product-specification-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('showLegendDescriptionButton')" is="show-legend-description-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('showWebsiteButton')" is="show-website-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
                <div v-if="isSelected('showProductPageButton')" is="show-product-page-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            </div>
        </div>
        <div v-else>
            <div v-if="isSelected('copyUrlButton')" is="copy-url-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('showInMapButton')" is="show-in-map-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('addToCartButton')" is="add-to-cart-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('showCoverageButton')" is="show-coverage-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('helpButton')" is="help-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('contactOwnerButton')" is="contact-owner-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('showProductSheetButton')" is="show-product-sheet-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('showProductSpecificationButton')" is="show-product-specification-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('showLegendDescriptionButton')" is="show-legend-description-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('showWebsiteButton')" is="show-website-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
            <div v-if="isSelected('showProductPageButton')" is="show-product-page-button" v-bind:result-item="resultItem" v-bind:default-button-class="defaultButtonClass" v-bind:button-type="buttonType" v-bind:class="componentClassName"></div>
        </div>
    </div>
</script>

<script>

    var Buttons = {
        name: "buttons",
        template: "#buttonsTemplate",
        props: ["resultItem", "selectedButtons", "buttonType"],
        components: {
            CopyUrlButton: CopyUrlButton,
            ShowInMapButton: ShowInMapButton,
            AddToCartButton: AddToCartButton,
            ShowCoverageButton: ShowCoverageButton,
            HelpButton: HelpButton,
            ContactOwnerButton: ContactOwnerButton,
            ShowProductSheetButton: ShowProductSheetButton,
            ShowProductSpecificationButton: ShowProductSpecificationButton,
            ShowLegendDescriptionButton: ShowLegendDescriptionButton,
            ShowWebsiteButton: ShowWebsiteButton,
            ShowProductPageButton: ShowProductPageButton
        },
        computed: {
            defaultButtonClass: function () {
                var defaultButtonClass = "";
                if (this.buttonType == 'topRow' || this.buttonType == 'button' || this.buttonType == 'list') { defaultButtonClass = "btn" }
                return defaultButtonClass;
            },
            hasComponentContainer: function () {
                hasComponentContainer = false;
                if (this.buttonType == 'topRow' || this.buttonType == 'list') { hasComponentContainer = true }
                return hasComponentContainer;
            },
            componentContainerClassName: function () {
                var componentContainerClassName = "";
                if (this.buttonType == 'topRow') { componentContainerClassName = "btn-table-row-5" }
                else if (this.buttonType == 'list') { componentContainerClassName = "btn-table-row-list" }
                if (this.buttonType == 'tableRow') { componentContainerClassName = "" }
                return componentContainerClassName;
            },
            componentClassName: function () {
                var componentClassName = "";
                if (this.buttonType == 'topRow' || this.buttonType == 'list') { componentClassName = "table-btn-container" }
                if (this.buttonType == 'tableRow') { componentClassName = "col-xs-1" }
                return componentClassName;
            }
        },
        methods: {
            isSelected: function (buttonName) {
                var isSelected = false;
                this.selectedButtons.forEach(function (selectedButtonName) {
                    if (selectedButtonName == buttonName) isSelected = true;
                });
                return isSelected;
            },
            createButtonElement: function (button) {
                var attributes = '';
                var style = "";
                if (this.buttonType == "button") style = "width: 130px;";
                else if (this.buttonType == "list") style = "width: 100%";
                if (button.attributes !== undefined && button.attributes.length) {
                    button.attributes.forEach(function (buttonAttribute) {
                        attributes += buttonAttribute.key + '="' + buttonAttribute.value + '" ';
                    });
                }
                var hrefAttribute = button.url !== null ? "href='" + button.url + "'" : "";
                var iconElement = "<span class='" + button.icon.className + "'></span>";
                var buttonElement = "<a " + hrefAttribute + " data-toggle='tooltip' data-placement='bottom' title='" + button.title + "' class='" + button.className + "' " + attributes + "style='" + style + "'>" + iconElement + button.content + "</a>";
                return buttonElement;
            }

        }
    };
</script>